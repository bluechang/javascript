<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>popup</title>
	<link rel="stylesheet" href="static/css/reset.css">
	<style type="text/css">
		body{
			padding-top: 50px;
			text-align: center;
		}

		.popup{
			display: none;
			width: 500px;
			height: 300px;
			background-color: steelblue;
			position: fixed;
		}
		.popup-btn-close{
			width: 30px;
			height: 30px;
			background-color: #000;
			position: absolute;
			right: 0;
			top: 0;
		}
	</style>
</head>
<body>
	
	<button class="trigger1">点击1</button>
	<button class="trigger2">点击2</button>
	<button class="trigger3">点击3</button>
	<button class="trigger4">点击4</button>
	<button class="trigger5" data-index="1">点击5</button>
	<button class="trigger5" data-index="2">点击5</button>

	<div class="popup popup1" id="popup1">
		<a href="javascript:;" class="popup-btn-close"></a>
		<div class="main">main1</div>
	</div>
	<div class="popup popup2" id="popup2">
		<a href="javascript:;" class="popup-btn-close"></a>
		<div class="main">main2</div>
	</div>
	<div class="popup popup3" id="popup3">
		<a href="javascript:;" class="popup-btn-close"></a>
		<div class="main">main3</div>
	</div>
	<div class="popup popup4" id="popup4">
		<a href="javascript:;" class="popup-btn-close"></a>
		<div class="main">main4</div>
	</div>
	<div class="popup popup5" id="popup5">
		<a href="javascript:;" class="popup-btn-close"></a>
		<div class="main">main4</div>
	</div>
	
	<script type="text/javascript" src="static/lib/jquery.min.js"></script>
	<script type="text/javascript" src="static/js/sky.popup.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			// pop1
			var pop1 = $('.popup1').skyPopup({
				btnTrigger: '.trigger1',
				btnClose: '.popup-btn-close',
				speed: 300,
				onBeforeShow: function(){
					alert(1)
				},
				onBeforeHide: function(){
					var t = this;

					// 可用于ajax
					window.setTimeout(function(){ 
						t.hide();
					}, 1000);
					
					return false;
				}
			});

			pop1.onBeforeShow(function(){
				alert(2);
			})

			// pop2
			$('.popup2').skyPopup({
				btnTrigger: '.trigger2',
				btnClose: '.popup-btn-close',
				speed: 300,
				onBeforeShow: function(){
					alert('不继续向下执行');
					return false;
				}
			});

			// pop3
			$('.popup3').skyPopup({
				btnTrigger: '.trigger3',
				btnClose: '.popup-btn-close',
				speed: 300
			});

			// pop4 无触发按钮
			$('.trigger4').on('click', function(){
				var pop = $('.popup4').skyPopup({
					btnClose: '.popup-btn-close',
					speed: 300
				});
				pop.show();
			})

			// pop5
			$('.popup5').skyPopup({
				btnTrigger: '.trigger5',
				btnClose: '.popup-btn-close',
				speed: 300,
				onAfterShow: function(triggerElem){
					// 可用于携带数据的一组btnTrigger
					var index = $(triggerElem).attr('data-index');
					console.log('data-index: ' + index);
				}
			});
		})
	</script>

</body>
</html>